1. WebRTC ê¸°ì´ˆ ê°œë…
**WebRTC(Web Real-Time Communication)**ëŠ” ë¸Œë¼ìš°ì €ë¼ë¦¬ ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤Â·ë¹„ë””ì˜¤Â·ë°ì´í„°ë¥¼ ì§ì ‘ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ìˆ ì´ë‹¤.
ë³„ë„ í”ŒëŸ¬ê·¸ì¸ ì—†ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ APIë§Œìœ¼ë¡œ í™”ìƒí†µí™”, ìŒì„±í†µí™”, í™”ë©´ ê³µìœ  ê°™ì€ ê¸°ëŠ¥ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ğŸ”§ í•µì‹¬ API 3ê°€ì§€
```
getUserMedia() â†’ ì¹´ë©”ë¼Â·ë§ˆì´í¬ ìŠ¤íŠ¸ë¦¼ íšë“
RTCPeerConnection â†’ P2P ì—°ê²° ìƒì„±Â·ê´€ë¦¬  
RTCDataChannel â†’ í…ìŠ¤íŠ¸Â·íŒŒì¼ ë°ì´í„° ì „ì†¡
```

ğŸ“Š ìƒë‹´ ì„œë¹„ìŠ¤ ë™ì‘ íë¦„
```
1. ê³ ê°(QR ì ‘ì†) â†” ìƒë‹´ì›(ëŒ€ì‹œë³´ë“œ)
   â†“ ì‹œê·¸ë„ë§ ì„œë²„ (Socket.IO)
2. SDP(Offer/Answer) + ICE Candidate êµí™˜  
3. P2P ì—°ê²° ì„±ë¦½ â†’ ì‹¤ì‹œê°„ ìŒì„± ì „ì†¡
   â†“ ë³‘ë ¬ ì²˜ë¦¬
4. AI ëª¨ë“ˆ â†’ STT ìë§‰ + ìš•ì„¤ ë§ˆìŠ¤í‚¹
```


2. JIRA í”„ë¡œì íŠ¸ ê´€ë¦¬ êµ¬ì¡°

**ê°œë…**: ì—í”½(í° ì—…ë¬´ ë¸”ëŸ­)>ìŠ¤í† ë¦¬>í…ŒìŠ¤í¬(ì œì¼ ì‘ì€ ì—…ë¬´ ë‹¨ìœ„)
         ìŠ¤í”„ë¦°íŠ¸ëŠ” ì‹œê°„ íë¦„ ê´€ë¦¬ ê°œë…

ğŸ“ ì—í”½(Epic) 6ê°œ

```
WEBRTC-EP001: íšŒì›ê´€ë¦¬  
  â”œâ”€â”€ íšŒì›ê°€ì…/íƒˆí‡´/ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
  â””â”€â”€ ìƒë‹´ì›Â·ê´€ë¦¬ì ê¶Œí•œ ê´€ë¦¬

WEBRTC-EP002: í†µí™” ì—°ê²°  
  â”œâ”€â”€ QR ê³ ê° ëœë”© â†’ ê³ ê°ì •ë³´ ì…ë ¥
  â”œâ”€â”€ ìƒë‹´ì› í†µí™” ìˆ˜ì‹ /ê±°ì ˆ
  â””â”€â”€ WebRTC 1:1 ì—°ê²°

WEBRTC-EP003: ìŒì„±ì²˜ë¦¬  
  â”œâ”€â”€ ì‹¤ì‹œê°„ STT ìë§‰ ë³€í™˜
  â”œâ”€â”€ ìš•ì„¤ ìë™ ë§ˆìŠ¤í‚¹(ì‚ì†Œë¦¬+ë¸”ëŸ¬)
  â””â”€â”€ í™”ì êµ¬ë¶„(ê³ ê°/ìƒë‹´ì›)

WEBRTC-EP004: ìƒë‹´ ê¸°ë¡  
  â”œâ”€â”€ íƒ€ì„ìŠ¤íƒ¬í”„ë³„ ëŒ€í™” ë¡œê·¸
  â””â”€â”€ ìƒë‹´ ë‚´ìš© ìë™ ì €ì¥

WEBRTC-EP005: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
  â””â”€â”€ ìƒë‹´ì› ëª©ë¡Â·ìƒíƒœ ê´€ë¦¬
```

ğŸ“… ìŠ¤í”„ë¦°íŠ¸ ê³„íš (ì´ 8ì£¼ â†’ MVP 4ì£¼)
```
Sprint 1 (1~2ì£¼): ê¸°ë°˜ êµ¬ì¶•
- íšŒì›CRUD + QR ëœë”© + ê¸°ë³¸ í†µí™”

Sprint 2 (3~4ì£¼): í•µì‹¬ ê¸°ëŠ¥  
- WebRTC ì—°ê²° + STT + ìš•ì„¤ ë§ˆìŠ¤í‚¹

Sprint 3 (5~6ì£¼): ì™„ì„±ë„ í–¥ìƒ
- ìƒë‹´ ê¸°ë¡ + ê´€ë¦¬ì ê¸°ëŠ¥
```

3. JWT ì¸ì¦ ì´í•´í•˜ê¸°
JWT(Json Web Token) = ë¡œê·¸ì¸ í›„ ì„œë²„ê°€ ë°œê¸‰í•˜ëŠ” ì•”í˜¸í™”ëœ ì‚¬ìš©ì ì‹ë³„ í† í°


ğŸ¯ ìƒë‹´ì› ì„œë¹„ìŠ¤ ì ìš© ë°©ì‹
```
1. ìƒë‹´ì› ë¡œê·¸ì¸ â†’ ì„œë²„ JWT ë°œê¸‰
   Payload: {user_id: "agent001", role: "agent", exp: 24ì‹œê°„}

2. Socket.IO ì‹œê·¸ë„ë§ ì ‘ì†  
   ws://server?token=eyJhbGciOiJIUzI1NiJ9...
   â†“ ì„œë²„ì—ì„œ JWT ê²€ì¦ â†’ ì—°ê²° í—ˆìš©

3. API í˜¸ì¶œë§ˆë‹¤ Authorization í—¤ë”
   Authorization: Bearer eyJhbGciOiJIUzI1NiJ9...

```

QR ê³ ê°ì€ ë¡œê·¸ì¸ ì—†ì´ room_idë§Œìœ¼ë¡œ ì„ì‹œ ì ‘ì† â†’ ìƒë‹´ì›ë§Œ JWT ì¸ì¦

4. ì‹œê·¸ë„ë§ ì„œë²„ (Socket.IO êµ¬í˜„)
ë¬¸ì œ: WebRTCëŠ” P2P ë¯¸ë””ì–´ëŠ” ë˜ì§€ë§Œ ì—°ê²° ì „ ì •ë³´ êµí™˜(SDP/ICE)ì€ ì•ˆë¨

í•´ê²°: Socket.IOë¡œ ì¤‘ê³„ ì„œë²„ êµ¬ì¶•

ğŸ”„ ì‹œê·¸ë„ë§ ë©”ì‹œì§€ íë¦„

```
ê³ ê° ë¸Œë¼ìš°ì €              Socket.IO ì„œë²„              ìƒë‹´ì› ë¸Œë¼ìš°ì €
    |                         |                         |
    |--- join(room123) ----->|                         |
    |<-- joined ------------|                         |
    |                         |<-- login(JWT) --------|
    |                         |--> authenticated ---->|
    |                         |                         |
    |--- offer(SDP) ------->|------ offer(SDP) ------>|
    |<-- ------------------|<-- answer(SDP) <---------|
    |--- ice-candidate --->|----- ice-candidate ----->|
    |<-- ------------------|<-- ice-candidate <-------|
    â†“ P2P ì—°ê²° ì„±ë¦½ â†’ ë¯¸ë””ì–´ ì§ì ‘ ì „ì†¡ â†“
```


ğŸ’» ìµœì†Œ êµ¬í˜„ ì½”ë“œ ì˜ˆì‹œ
```
// ì„œë²„ (Node.js + Socket.IO)
io.on('connection', (socket) => {
  socket.on('join', (roomId, jwt) => {
    verifyJWT(jwt); // JWT ê²€ì¦
    socket.join(roomId);
  });
  
  socket.on('offer', (data) => socket.to(data.roomId).emit('offer', data));
  socket.on('answer', (data) => socket.to(data.roomId).emit('answer', data));
  socket.on('ice-candidate', (data) => socket.to(data.roomId).emit('ice-candidate', data));
});

```

âš™ï¸ ì„¤ì • ì˜ˆì‹œ

```
const pc = new RTCPeerConnection({
  iceServers: [
    { urls: 'stun:stun.l.google.com:19302' },  // ë¬´ë£Œ STUN
    {
      urls: 'turn:turn.example.com:3478',
      username: 'agent001',
      credential: 'pass123'
    }
  ]
});

```
ì½œì„¼í„° ì ìš© íŒ: ì‚¬ë‚´ë§ í™˜ê²½ì´ë¯€ë¡œ TURN í•„ìˆ˜, êµ¬ê¸€ STUN + coturn(ì˜¤í”ˆì†ŒìŠ¤ TURN) ì¶”ì²œ
---

6. ì „ì²´ ì•„í‚¤í…ì²˜ í†µí•© ê·¸ë¦¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ê³ ê°(QR)      â”‚    â”‚  Socket.IO       â”‚    â”‚   ìƒë‹´ì›         â”‚
â”‚ - room_id ìƒì„±  â”‚â—„â”€â”€â–ºâ”‚ - JWT ì¸ì¦       â”‚â—„â”€â”€â–ºâ”‚ - ë¡œê·¸ì¸(JWT)   â”‚
â”‚ - ê³ ê°ì •ë³´ ì…ë ¥ â”‚    â”‚ - offer/answer   â”‚    â”‚ - ëŒ€ì‹œë³´ë“œ       â”‚
â”‚ - í†µí™”ì‹œì‘      â”‚    â”‚ - ICE ì¤‘ê³„       â”‚    â”‚ - ìˆ˜ì‹ /ê±°ì ˆ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚            â”‚              â”‚
              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
              â”‚ STUN/TURN â”‚ â”‚   STT    â”‚ â”‚ ë§ˆìŠ¤í‚¹  â”‚
              â”‚ (ë¯¸ë””ì–´   â”‚ â”‚ (ìë§‰)   â”‚ â”‚ (ìš•ì„¤)  â”‚
              â”‚  ê²½ë¡œ)    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```